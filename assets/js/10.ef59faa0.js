(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{369:function(e,s,n){"use strict";n.r(s);var t=n(44),a=Object(t.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"npm-yarn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-yarn"}},[e._v("#")]),e._v(" npm / yarn")]),e._v(" "),n("h2",{attrs:{id:"_1、设置仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、设置仓库"}},[e._v("#")]),e._v(" 1、设置仓库")]),e._v(" "),n("blockquote",[n("p",[e._v("管理仓库 "),n("code",[e._v("nrm")])])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 安装\nnpm install nrm -g\n\n# 查看\nnrm ls  \n* npm -------- https://registry.npmjs.org/\n  yarn ------- https://registry.yarnpkg.com/\n  cnpm ------- http://r.cnpmjs.org/\n  taobao ----- https://registry.npm.taobao.org/\n  nj --------- https://registry.nodejitsu.com/\n  npmMirror -- https://skimdb.npmjs.com/registry/\n  edunpm ----- http://registry.enpmjs.org/\n\n# 切换\nnrm use taobao\n\n# 增加：其中reigstry为源名，url为源的路径\nnrm add <registry> <url>\n\n# 删除\nnrm del <registry>\n\n# 测试速度\nnrm test npm\n")])])]),n("ol",[n("li",[e._v("全局")])]),e._v(" "),n("blockquote",[n("p",[e._v("文件保存在 C:/Users/用户名/.npmrc")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 设置registry\nnpm config set registry https://registry.npm.taobao.org\n# 查看registry\nnpm config get registry\n# 查看配置列表\nnpm config list\n# 查看所有的默认配置\nnpm config ls -l\n# 查看安装的modules\nnpm list\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[e._v("项目内添加 "),n("code",[e._v(".npmrc")]),e._v(" 或 "),n("code",[e._v(".yarnrc")])])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('registry "https://registry.npm.taobao.org"\nsass_binary_site "https://npm.taobao.org/mirrors/node-sass/"\n')])])]),n("ol",{attrs:{start:"3"}},[n("li",[e._v("临时")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 安装时指定镜像源\n\nnpm install --registry=https://registry.npm.taobao.org\n\nnpm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass\n")])])]),n("h2",{attrs:{id:"_2、设置全局目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、设置全局目录"}},[e._v("#")]),e._v(" 2、设置全局目录")]),e._v(" "),n("blockquote",[n("p",[e._v("设置 node_modules 和 node_cache 设置全局安装目录和缓存目录")])]),e._v(" "),n("p",[e._v("假设 nodejs 安装目录为 D:\\Program Files\\nodejs")]),e._v(" "),n("ol",[n("li",[e._v("在 nodejs 安装目录下新建 node_global 和 node_cache 目录")]),e._v(" "),n("li",[e._v("添加环境变量 NODE_PATH=D:\\Program Files\\nodejs\\node_modules")]),e._v(" "),n("li",[e._v("PATH 追加 D:\\Program Files\\nodejs\\node_global，注意;符号分隔")]),e._v(" "),n("li",[e._v("执行 npm config set prefix D:\\APP\\nodejs\\node_global")]),e._v(" "),n("li",[e._v("执行 npm config set cache D:\\APP\\nodejs\\node_cache")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("\n")])])]),n("h2",{attrs:{id:"_3、问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、问题"}},[e._v("#")]),e._v(" 3、问题")]),e._v(" "),n("ol",[n("li",[e._v("安装报错")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("\nCould not resolve dependency: peer\n\nnpx -p npm@6 npm i --legacy-peer-deps\n\n")])])]),n("p",[n("code",[e._v("ERESOLVE")]),e._v("与"),n("code",[e._v("npm@7")]),e._v("有关的问题很常见，因为"),n("code",[e._v("npm7.x")]),e._v("对某些事情比 npm6.x 更严格。通常，最简单的解决方法是将"),n("code",[e._v("--legacy-peer-deps")]),e._v("标志传递给"),n("code",[e._v("npm")]),e._v("(e.g.，"),n("code",[e._v("npm i --legacy-peer-deps")]),e._v("），或者使用"),n("code",[e._v("npm@6")]),e._v("。")]),e._v(" "),n("p",[e._v("如果这不能立即起作用，也许可以先删除"),n("code",[e._v("node_modules")]),e._v("和"),n("code",[e._v("package-lock.json")]),e._v("。它们将被重新创建。")]),e._v(" "),n("p",[e._v("（提示：使用 npm@6 不需要卸载"),n("code",[e._v("npm@7")]),e._v("。使用"),n("code",[e._v("npx")]),e._v("指定"),n("code",[e._v("npm")]),e._v("的版本。例如："),n("code",[e._v("npx -p npm@6 npm i --legacy-peer-deps")]),e._v("。）")]),e._v(" "),n("p",[n("strong",[e._v("结果：淘宝源是 https，但是设成 http 了")])]),e._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[e._v("缓存问题")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("# 清除缓存\nnpm cache clean\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);